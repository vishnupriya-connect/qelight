<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Java Topics</title>
    <script src="https://cdn.jsdelivr.net/npm/showdown@2.0.0/dist/showdown.min.js"></script>
    <style>
      body {
        font-family: Arial, sans-serif;
        line-height: 1.6;
      }
      .markdown-section {
        margin-bottom: 2em;
      }
      .folder-heading {
        color: #2c3e50;
        font-size: 1.5em;
        margin-top: 1em;
      }
    </style>
  </head>
  <body>
    <h1>Java Topics</h1>
    <div id="markdown-content"></div>

    <script>
      async function fetchMarkdownFiles(folderPath) {
        const repoOwner = "vishnupriya-connect"; // Replace with your GitHub username
        const repoName = "qelight"; // Replace with your GitHub repository name
        const branch = "main"; // Replace with your repository's default branch name (e.g., "main" or "master")
        const apiUrl = `https://api.github.com/repos/${repoOwner}/${repoName}/${folderPath}?ref=${branch}`;
        const apiUrl = `https://github.com/${repoOwner}/${repoName}/${folderPath}?ref=${branch}`;

        try {
          const response = await fetch(apiUrl);
          const files = await response.json();

          // Filter and sort Markdown files alphabetically
          const markdownFiles = files
            .filter(file => file.name.endsWith(".md"))
            .sort((a, b) => a.name.localeCompare(b.name));

          const converter = new showdown.Converter();
          const contentDiv = document.getElementById("markdown-content");

          // Add folder heading
          contentDiv.innerHTML += `<h2 class="folder-heading">Folder: ${folderPath}</h2>`;

          // Fetch each Markdown file content and display it
          for (let file of markdownFiles) {
            const fileResponse = await fetch(file.download_url);
            const text = await fileResponse.text();
            const html = converter.makeHtml(text);

            // Display each file's content in a new section
            contentDiv.innerHTML += `<div class="markdown-section"><h3>${file.name}</h3>${html}</div>`;
          }
        } catch (error) {
          console.error(`Failed to fetch files from ${folderPath}:`, error);
        }
      }

      // Define folder paths to fetch
      const folderPaths = [
        "tree/main/theory/corejava/1",
        "tree/main/theory/corejava/2",
        "tree/main/theory/corejava/3",
        // Add additional folder paths as needed
      ];

      // Fetch Markdown files for each folder path
      folderPaths.forEach(fetchMarkdownFiles);
    </script>
  </body>
</html>
